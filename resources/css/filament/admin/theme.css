@import '/vendor/filament/filament/resources/css/theme.css';
@config 'tailwind.config.js';

@tailwind base;
@tailwind components;
@tailwind utilities;


/* ------------------------------
   GLOBAL VARIABLES
--------------------------------*/
:root {
  --sidebar-width: 280px;
  --transition-speed: 0.2s;

  --primary-rgb: 45, 43, 141;   /* #2D2B8D */
  --secondary-rgb: 255, 201, 3; /* #FFC903 */

  --primary-gradient: linear-gradient(145deg, #524ED5, #2D2B8D);
  --secondary-gradient: linear-gradient(145deg, #FFD333, #FFC903);
}

body { @apply antialiased; }


/* ------------------------------
   TYPOGRAPHY
--------------------------------*/
.fi-header-heading {
  @apply !text-2xl font-bold text-primary-800 dark:text-primary-300;
}

.fi-header-subheading {
  @apply !text-sm text-gray-600 dark:text-gray-400 max-w-3xl;
}


/* ------------------------------
   LAYOUT
--------------------------------*/
.fi-layout { @apply bg-white; }

.fi-main {
  @apply mt-0 mb-0 bg-white dark:bg-gray-900 shadow-none transition-all duration-300;
}

.fi-logo {
  @apply !h-10 transition-all duration-300 hover:scale-105;
}


/* ------------------------------
   SIDEBAR
--------------------------------*/
.fi-sidebar {
  @apply transition-all duration-300 ease-in-out border-r border-gray-100/50 dark:border-gray-800/50;
  background: linear-gradient(180deg, rgba(var(--primary-rgb), 0.02), rgba(var(--primary-rgb), 0.05));
}

.dark .fi-sidebar {
  background: linear-gradient(180deg, #181A20, #23263A);
}

.fi-sidebar.fi-sidebar-open {
  width: var(--sidebar-width);
}

.fi-sidebar-header {
  @apply py-4 !shadow-none sticky top-0 z-10;
  background: linear-gradient(180deg, rgba(var(--primary-rgb), 0.03), rgba(var(--primary-rgb), 0.07));
  border-bottom: 1px solid rgba(var(--primary-rgb), 0.1);
}

.dark .fi-sidebar-header {
  background: linear-gradient(180deg, rgba(var(--primary-rgb), 0.1), rgba(15,15,20,0.9));
  border-bottom: 1px solid rgba(var(--primary-rgb), 0.15);
}


/* ------------------------------
   TOPBAR
--------------------------------*/
.fi-topbar nav {
  @apply !ring-0 py-3 !border-none !shadow-none bg-white sticky top-0 z-10;
  border-bottom: 1px solid rgba(var(--primary-rgb), 0.1);
}

.fi-topbar * {
  @apply text-primary-400 dark:text-primary-300;
}


/* ------------------------------
   SIDEBAR GROUPS
--------------------------------*/
.fi-sidebar-nav-groups { @apply gap-y-6 px-3 py-4; }

.fi-sidebar-group { @apply space-y-1.5; }

.fi-sidebar-group-label {
  @apply text-xs font-bold uppercase tracking-wider px-4 mb-2 text-primary-600 dark:text-primary-400;
}


/* ------------------------------
   SIDEBAR ITEMS
--------------------------------*/
.fi-sidebar-item a {
  @apply px-4 py-2.5 rounded-xl flex items-center gap-x-3 transition-all duration-300 border-l-2 border-transparent;
}

.fi-sidebar-item a > svg {
  @apply w-5 h-5 text-primary-400 dark:text-primary-300 transition-all;
}

.fi-sidebar-item a:hover,
.fi-sidebar-item a:focus {
  background: rgba(var(--primary-rgb), 0.12);
  @apply shadow-sm border-secondary-500;
}

.dark .fi-sidebar-item a:hover,
.dark .fi-sidebar-item a:focus {
  background: linear-gradient(90deg, rgba(var(--secondary-rgb), 0.08), rgba(var(--primary-rgb), 0.18));
  @apply border-secondary-600;
}


/* --- Active State --- */
.fi-sidebar-item-active a {
  background: var(--primary-gradient);
  @apply text-white shadow-md border-l-0;
}

.fi-sidebar-item-active a > svg,
.fi-sidebar-item-active a > span {
  @apply text-white font-semibold;
}


/* ------------------------------
   SECTIONS & CARDS
--------------------------------*/
.fi-section {
  @apply rounded-xl border border-gray-200 dark:border-gray-800 overflow-hidden shadow-sm transition-all;
  background: linear-gradient(145deg, #ffffff, #f8f9fa);
}

.dark .fi-section {
  background: linear-gradient(145deg, #1f2937, #111827);
}

.fi-section-header {
  @apply px-6 py-4 border-b border-primary-100/30;
  background: linear-gradient(90deg, rgba(var(--primary-rgb), 0.05), transparent);
}

.fi-section-content { @apply p-6; }


/* ------------------------------
   FORM ELEMENTS (FIX DATETIME / SELECT)
--------------------------------*/
.fi-input-wrapper {
  @apply transition-all duration-200 ring-0;
}

.fi-input,
.fi-select select,
.fi-date-time-picker input {
  @apply rounded-lg border-gray-300 dark:border-gray-700 shadow-sm focus:border-primary-500 focus:ring-primary-500;
}

.fi-input-wrapper:focus-within {
  @apply ring-2 ring-primary-200 dark:ring-primary-900/30 rounded-lg;
}


/* ------------------------------
   BUTTONS
--------------------------------*/
.fi-btn {
  @apply rounded-lg shadow-sm transition-all duration-200;
}

.fi-btn:not(:disabled):hover { @apply shadow translate-y-[-1px]; }
.fi-btn:not(:disabled):active { @apply shadow-inner translate-y-[1px]; }

.fi-btn.fi-btn-color-primary {
  background: var(--primary-gradient);
  @apply text-white;
}

.fi-btn.fi-btn-color-secondary {
  background: var(--secondary-gradient);
  @apply text-gray-900;
}


/* ------------------------------
   DROPDOWNS
--------------------------------*/
.fi-dropdown-panel {
  @apply rounded-xl shadow-lg border border-gray-100 dark:border-gray-800 bg-white dark:bg-gray-800;
}


/* ------------------------------
   BADGES
--------------------------------*/
.fi-badge { @apply ring-1; }


/* ------------------------------
   RESPONSIVE
--------------------------------*/
@media (max-width: 768px) {
  .fi-sidebar.fi-sidebar-open {
    @apply fixed z-40 w-[280px] shadow-xl;
  }

  .fi-main { @apply mx-2 mb-2; }
}


/* Fix DateTimePicker / Flatpickr not being cut off */
.fi-fo-date-time-picker,
.fi-fo-date-time-picker .fi-input-wrp,
.fi-fo-field-wrp,
.fi-input-wrp {
    overflow: visible !important;
}

.flatpickr-calendar {
    z-index: 999999 !important;
    position: absolute !important;
}

/* 1) Secciones normales con DateTimePicker */
.fi-section,
.fi-section-content,
.fi-fo-field-wrp,
.fi-input-wrp,
.fi-fo-date-time-picker {
    overflow: visible !important;
}

/* 2) Wizard: pasos y contenido no deben recortar */
.fi-wizard,
.fi-wizard-step,
.fi-wizard-step-content,
.fi-wizard-step-content > div {
    overflow: visible !important;
}

/* 3) Popups de fecha/hora siempre por encima */
.flatpickr-calendar,
.fi-fo-popover,
.fi-popover {
    z-index: 999999 !important;
    position: absolute !important;
}
